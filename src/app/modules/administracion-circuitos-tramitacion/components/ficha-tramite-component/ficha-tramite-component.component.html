<form>
    <p-card>
        <ng-template #header>

        </ng-template>
        <ng-template #title>
            <b>Ficha de tramite</b>
        </ng-template>
        <ng-template #subtitle>
            <p-menubar [model]="opciones"/>
            <p-fieldset>
                <ng-template #header>
                    <i><b>Datos de la normativa</b></i>
                </ng-template>
                <br/>
                <br/>
                <div>
                    <p-floatlabel>
                        <input id="TBoxId" name="TBoxId" readonly pInputText [(ngModel)]="tramite.id" fluid/>
                        <label for="TBoxId">Id.</label>
                    </p-floatlabel>
                </div>
                <br/>
                <br/>
                <div>
                    <p-floatlabel>
                        <input id="TBoxNombre" name="TBoxNombre" type="text" pInputText pFluid [(ngModel)]="tramite.nombre" fluid/>
                        <label for="Nombre">Nombre</label>
                    </p-floatlabel>
                </div>
            </p-fieldset>             
        </ng-template>
        <p-tabs value="0">
            <p-tablist>
                <p-tab value="0">Descripcion</p-tab>
                <p-tab value="1">Normativa</p-tab>
                <p-tab value="2" *ngIf="tramite.id!=''">Propiedades</p-tab>
            </p-tablist>
            <p-tabpanels>
                <p-tabpanel value="0"> 
                    <br/>           
                    <p-floatlabel>
                        <textarea id="TBoxDescripcion" name="TBoxDescripcion" rows="5" cols="80" pInputText fluid [(ngModel)]="tramite.descripcion"></textarea>
                        <label for="TBoxDescripcion">Descripcion</label>
                    </p-floatlabel>
                </p-tabpanel>

                <p-tabpanel value="1">
                    <br/>
                    <p-floatlabel>
                        <textarea id="TBoxNormativa" name="TBoxNormativa" rows="5" cols="80" pInputText fluid [(ngModel)]="tramite.normativa"></textarea>
                        <label for="TBoxNormativa">Normativa aplicable</label>
                    </p-floatlabel>
                </p-tabpanel>

                <p-tabpanel value="2" *ngIf="tramite.id!=''">
                    <p-splitter [panelSizes]="[25, 75]" [style]="{ height: '500px' }" styleClass="mb-8">
                        <ng-template #panel>
                            <p-scrollpanel [style]="{width:'100%' ,height:'500px'}">
                                <app-arbol-selector-propiedades-component (PropiedadSeleccionada)="CuandoSeleccionaPropiedad($event)" FiltroTipoElemento="tram"></app-arbol-selector-propiedades-component>
                            </p-scrollpanel>
                        </ng-template>
                        <ng-template #panel>
                            <app-panel-propiedad-elemento-component [elemento]="{id:tramite.id,tipo:'tram',etiqueta:`Propiedades del trÃ¡mite ${tramite.nombre}`}" [propiedad]="PropiedadSeleccionada()"></app-panel-propiedad-elemento-component>
                        </ng-template>
                    </p-splitter>
                </p-tabpanel>       
            </p-tabpanels>
        </p-tabs>
    </p-card>
</form>


